<html>
<head>
<title>JS Geo viewer</title>
<meta http-equiv="Content-Type" content="text/html;charset=ISO-8859-2">
<style type="text/css">
@import "css/jquery.svg.css";
   body,html {
      margin:0;
      padding:0;
      overflow:hidden;
      font-family:monospace;
   }
   h3 {
      margin: 2px
   }
   #svgbasics { 
      position:absolute; 
      width: 1000px; 
      height: 800px; 
      border: 0px; }
   #mainControls { 
      position:absolute;
      left: 40px;
      top: 10px;
      background-color: rgba(255,255,200,0.5)
   }
   #gvOsm { height: 0px; display: none }
</style>
   <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" />
   <script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>
   <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
   <script src="js/jquery.svg.js"></script>
   <script src="js/svg_gv.js"></script>
   <script src="js/geoviewer.js"></script>
   <script src="js/presets.js" charset="UTF-8"></script>
   <script src="js/wms_layers.js" charset="UTF-8"></script>
   <script src="js/sjtsk2wgs.js" charset="UTF-8"></script>
</head>
<body>
   <div id="gvWms">
      <img id="contents" src="http://docutils.sourceforge.net/docs/user/images/rsp-empty.png" width="1000" height="700" />
      <div id="svgbasics"></div>
   </div>
   <div id="gvOsm"></div>
   <div id="svgexport"></div>
   <table id="mainControls">
      <tr id="mapSwitch">
         <td>
            <button id="switchGvWms">WMS</button>
            <button id="switchGvOsm">OpenStreetMap</button>
         </td>
      </tr>
      <tr id="gvWmsControls">
         <td valign="top">
            <form name="frm1">
               X2: <input type="text" id="x2" name="x2" value="-1152710">(top [^&gt;])<br/>
               Y1: <input type="text" id="y1" name="y1" value="-526404">(left [&lt;])<br/>
               Y2: <input type="text" id="y2" name="y2" value="-526216">(right [&gt;])<br/>
               X1: <input type="text" id="x1" name="x1" value="-1152840">(bottom [v&lt;])<br/>
               (0,0 je nìkde v Estonsku)
               <input type="button" value="Display" onClick="displayMap()">
               <input type="checkbox" id="autoDisplay" value="Auto" title="Display automatically" checked="checked">Auto<br/>
               <input type="button" value="+" onClick="zoomIn()"  title="Zoom In">
               <input type="button" value="-" onClick="zoomOut()" title="Zoom Out">
               |
               <input type="button" value="<" onClick="panWest()" title="West">
               <input type="button" value="^" onClick="panNorth()" title="North">
               <input type="button" value="v" onClick="panSouth()" title="South">
               <input type="button" value=">" onClick="panEast()" title="East">
               <hr>
               <div>WMS: <select id="selWms" name="selWms" size="1"></select>
               </div>
               <strong>Layers:</strong>
               <input id="layers" name="layers" size="20">
           </form>
           <hr>
           <h3>Presets</h3>
           <select id="selPresets">
              <option>Please select...</option>
           </select>
           <hr>
           Ratio:
           <input type="text" id="ratio">
         </td>
      </tr>
   </table>
   <table>
      <tr>
         <td valign="top">
<p><button id="drawLines">Draw Geometry</button>
   <button id="mbr">MBR</button>
   <button id="clear">Clear</button>
   <button id="export">Export</button>
   <span id="messages">...</span>
</p>
         </td>
      </tr>
   </table>
   <table>
      <tr>
         <td>
	<h3>SVG</h3>
	<p>Coordinates script:</p>
         </td>
         <td rowspan="2">
		<!--textarea id="myScript" rows="15" cols="145" style="font-family:Consolas">MDSYS.SDO_GEOMETRY(2002,NULL,NULL,MDSYS.SDO_ELEM_INFO_ARRAY(1,2,1),MDSYS.SDO_ORDINATE_ARRAY(995142370,667673990,995123440,667639560))</textarea-->
		<textarea id="myScript" rows="30" cols="145" style="font-family:Consolas">#Øíèany
723827.6 1054593.46 723779.11 1054628.88 723707.22 1054733.51 723585.5 1054857.62 723438.21 1054868.26 723463.33 1054954.81 723478.28 1055108.64 723527.63 1055125.63 723539.57 1055168.13 723588.65 1055202.12 723576.16 1055268.1 723655.65 1055393.12 723641.5 1055426.35 723670.11 1055476.06 723644.1 1055534.77 723544.92 1055651.49 723810.85 1055802.36 723808.58 1055919.15 723768.53 1055976.36 723911.19 1055955.22 723928.69 1055830.33 723989.23 1055731.72 724001.69 1055680.63 724116.45 1055658.17 724113.67 1055949.83 724100.79 1056013.21 724236.71 1056015.71 724339.02 1055993.14 724436.99 1055920.9 724528.25 1055907.8 724614.17 1055830.42 724665.27 1055882.3 724750.04 1055909.34 724734.05 1055965.58 724750.44 1055974.27 724745.96 1055995.82 724780.38 1056007.47 724770.31 1056037.56 724746.72 1056042.56 724764.38 1056091.03 724726.21 1056145.93 724799.21 1056217.67 724779.19 1056287.07 724564.03 1056457.0 724534.2 1056491.6 724535.53 1056530.23 724482.56 1056568.32 724489.17 1056579.4 724426.99 1056643.65 724406.74 1056626.06 724401.97 1056648.33 724322.64 1056691.39 724332.71 1056698.63 724316.3 1056749.86 724332.55 1056775.22 724315.57 1056793.45 724345.02 1056820.89 724319.83 1056836.85 724317.67 1056874.02 724299.3 1056885.83 724315.23 1056924.35 724295.05 1056961.05 724309.54 1056969.87 724298.93 1056976.71 724306.8 1057011.33 724329.79 1057035.18 724316.67 1057047.39 724325.59 1057068.95 724342.19 1057074.47 724333.18 1057175.88 724356.81 1057203.69 724356.55 1057254.24 724342.93 1057283.89 724319.03 1057273.34 724302.78 1057286.74 724288.47 1057324.26 724314.27 1057431.66 724403.22 1057461.29 724418.15 1057487.81 724509.06 1057501.23 724617.9 1057589.64 724724.94 1057623.41 724769.1 1057653.19 724751.31 1057421.21 724898.92 1057422.42 725185.08 1057365.14 725357.36 1057363.6 725551.87 1057328.06 725587.72 1057308.84 725868.67 1057327.57 725906.96 1057354.93 725844.08 1057418.6 725877.22 1057606.83 725845.72 1057822.19 725976.71 1057853.0 726100.99 1057910.11 726165.48 1057903.55 726189.5 1057874.88 726263.38 1057923.73 726331.95 1058010.74 726360.19 1058021.29 726398.29 1058007.15 726469.92 1058063.51 726491.29 1058054.74 726606.82 1057951.96 726700.45 1057832.6 726777.23 1057774.9 726964.5 1057957.23 727021.47 1057989.1 727113.53 1057999.15 727112.77 1057941.29 727266.58 1057904.89 727239.0 1057906.03 727186.89 1057703.61 727289.07 1057823.59 727438.61 1057958.36 727467.13 1058004.55 727561.83 1058077.68 727741.34 1057888.33 727799.41 1057872.55 727892.77 1058003.9 727905.91 1058077.02 727889.03 1058146.65 727980.14 1058175.42 728183.37 1058157.31 728185.57 1058087.8 728332.97 1058081.49 728336.52 1058102.09 728568.23 1058126.86 728596.57 1058053.78 728800.3 1058105.89 728817.52 1058054.73 728933.55 1058080.49 729017.52 1058075.76 729080.75 1058111.91 729051.96 1058225.01 729169.64 1058267.15 729155.01 1058312.55 729195.91 1058322.8 729185.86 1058384.79 729125.4 1058509.08 729227.25 1058537.88 729185.73 1058537.73 729164.29 1058699.83 729231.4 1058872.33 729265.88 1059041.78 729418.88 1059079.4 729412.37 1059122.55 729450.44 1059128.57 729379.64 1059356.16 729349.13 1059560.63 729373.28 1059703.68 729466.39 1059729.08 729517.33 1059765.42 729558.8 1059865.57 729576.02 1059935.62 729522.0 1059987.56 729562.26 1059998.77 729606.8 1059945.99 729865.32 1059871.06 729926.65 1059727.69 729987.39 1059659.44 729976.14 1059568.35 729926.45 1059597.8 729921.54 1059476.85 730024.5 1059445.77 730119.64 1059489.27 730258.45 1059482.21 730316.67 1059529.21 730414.67 1059552.03 730450.09 1059597.77 730469.11 1059596.94 730560.89 1059464.73 730588.71 1059326.53 730634.42 1059242.61 730680.35 1059103.52 730736.86 1059116.72 730768.61 1059179.31 730867.6 1059240.5 730988.87 1059143.99 730984.33 1059109.81 730942.71 1058987.18 730962.68 1058753.45 730817.92 1058713.02 730791.33 1058748.44 730718.28 1058705.67 730735.62 1058600.0 730714.59 1058590.24 730723.46 1058542.4 730636.07 1058529.01 730656.43 1058384.91 730651.11 1058289.28 730707.9 1058283.58 730701.81 1058081.95 730765.79 1058103.98 730784.48 1058194.19 730815.49 1058120.02 730790.97 1058109.22 730813.77 1058036.08 730696.0 1057982.55 730755.88 1057908.92 730662.45 1057811.21 730700.3 1057773.41 730625.41 1057622.7 730695.98 1057600.61 730679.88 1057565.08 730591.93 1057585.6 730585.3 1057550.31 730395.7 1057569.69 730391.88 1057484.79 730396.09 1057450.14 730562.25 1057467.0 730575.84 1057359.03 730616.86 1057380.25 730659.3 1057322.32 730633.82 1057286.43 730787.29 1057222.62 730779.75 1057187.04 730863.97 1057161.62 730872.52 1057095.34 730991.54 1057098.12 730969.7 1056968.77 731029.49 1056956.93 731043.62 1056966.81 731006.95 1056889.02 730946.93 1056902.23 730941.16 1056829.85 730837.7 1056831.37 730836.24 1056767.62 730728.59 1056746.36 730740.85 1056583.44 730765.41 1056581.45 730765.87 1056508.71 730704.54 1056431.36 730713.07 1056316.52 730691.0 1056213.81 730751.65 1056086.16 730825.84 1055858.68 730716.02 1055778.05 730811.19 1055643.15 730763.06 1055608.54 730656.22 1055576.42 730496.87 1055572.54 730424.35 1055455.72 730466.4 1055440.15 730440.86 1055399.22 730452.69 1055325.14 730501.04 1055327.66 730530.7 1055271.75 730553.41 1055273.32 730600.75 1055184.14 730465.41 1055094.45 730491.01 1054983.59 730574.81 1054813.33 730557.0 1054726.19 730586.69 1054621.5 730636.48 1054517.81 730513.9 1054499.47 730456.98 1054530.48 730356.16 1054682.28 730269.64 1054735.89 730254.67 1054707.86 730112.37 1054838.67 730075.07 1054721.33 729948.17 1054763.4 729937.51 1054730.31 729872.13 1054748.65 729493.6 1055072.77 729430.74 1055153.06 729081.44 1055134.16 728905.4 1055237.79 728760.2 1055279.1 728669.1 1055379.25 728124.0 1054968.55 728350.53 1054654.38 728574.39 1054174.03 728633.11 1054111.31 728527.55 1054061.09 728335.73 1054119.64 728297.54 1054117.8 728309.7 1054076.5 728229.4 1054080.8 728152.43 1054202.66 728140.32 1054247.97 728157.0 1054287.5 728136.7 1054295.8 728106.4 1054236.0 728026.0 1054179.6 727770.42 1053889.5 727269.32 1054455.62 727041.55 1054232.85 726939.6 1054168.7 726866.15 1054054.91 726910.09 1054030.15 726923.66 1053946.44 726817.32 1053825.08 726825.86 1053783.84 726805.89 1053747.79 726806.26 1053699.58 726841.67 1053648.57 726902.05 1053601.64 726874.52 1053562.21 726804.45 1053553.24 726789.22 1053529.96 726765.72 1053534.48 726748.34 1053488.77 726676.86 1053496.3 726601.08 1053528.55 726559.6 1053600.46 726503.13 1053563.96 726478.12 1053568.38 726458.58 1053529.58 726370.23 1053556.87 726297.16 1053236.08 726219.92 1053252.39 726213.61 1053234.79 726046.21 1053268.93 726049.02 1053302.38 726025.3 1053307.13 725661.28 1053314.68 725641.78 1053339.4 725349.21 1053293.8 725377.77 1053467.84 725365.57 1053470.38 725371.84 1053513.38 725137.98 1053551.52 725181.2 1053731.71 725243.06 1053721.53 725137.82 1053813.7 725123.4 1053911.84 725174.2 1053975.53 725173.31 1054009.14 725274.2 1054057.0 725274.26 1054141.7 725253.06 1054135.93 725269.74 1054321.61 725320.14 1054464.2 725368.98 1054450.71 725211.65 1054597.88 725083.79 1054703.19 725195.72 1054599.72 725113.91 1054491.42 724964.41 1054366.66 724690.98 1054441.77 724690.09 1054402.15 724687.41 1054413.14 724535.92 1054388.89 724530.48 1054341.58 724420.25 1054338.78 724178.51 1054391.17 724200.18 1054452.09 724057.89 1054473.27 724096.58 1054551.86 724113.56 1054631.04 724054.63 1054645.45 724037.06 1054556.93 723994.21 1054470.86 723827.6 1054593.46
		</textarea>
         </td>
      </tr>
      <tr>
         <td>
	<p>syntax:</p>
	<p>[line] &lt;x&gt;,&lt;y&gt;</p>
	<p>rect &lt;x1&gt;,&lt;y2&gt;,&lt;x2&gt;,&lt;y2&gt;</p>
	<p>color &lt;color&gt;</p>
	<p>width &lt;width&gt;</p>
	<p>text &lt;text&gt; &lt;x&gt; &lt;y&gt;</p>
         </td>
      </tr>
   </table>
</body>
<script>
$(document).ready(function(){ 
    // Ye Olde GeoViewer
    geoViewerInit();
    // Leaflet
    var coordsRicany = [49.99,14.66],  // S-JTSK(723827.6, 1054593.46)
        coordsPrague = [50.0596696,14.4656239],
        polygon;
    // ! GLOBAL - for access from GeoViewer - to force refresh after making visible
    map = L.map('gvOsm').setView(coordsRicany, 13);
    L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>',
        maxZoom: 18,
        id: 'examples.map-i875mjb7'
    }).addTo(map);    
});
</script>
</html>
